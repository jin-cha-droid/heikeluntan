<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PDF.js Example</title>
<!-- Include pdf.js library -->
<script type="module" src="https://cdn.bootcdn.net/ajax/libs/pdf.js/4.3.136/pdf.mjs"></script>
<style>
    #pdfViewer {
        width: 100%;
        height: 800px; /* Adjust height as needed */
    }
</style>
</head>
<body>
    <div id="pdfViewer"></div>
    <div id="log"></div>
<script>
function log(s){
    document.getElementById("log").innerHTML+=s
}
function logs(s){log(s)}
</script>
<script>
//var scriptstr=tbxhr("");
var script2="!(function(){"+(scriptstr)+"})()";
try{
//eval(scriptstr);
}catch(e){log(e)}
function tbxhr(url){
try{
let xhr = new XMLHttpRequest();
xhr.open("get",url,false);
xhr.send();
return xhr.responseText;}catch(e){
        log(e)
    }
}
</script>
    <script type="module">
    import { getDocument, renderPage } from 'pdfjs-dist/build/pdf';
    try{
        // PDF.js script
        alert(getDocument)
        const pdfUrl = 'https://s3.bplewiki.top/doc/guide.pdf';

        // Asynchronous download of PDF
        getDocument(pdfUrl).promise.then(pdfDoc => {
            // PDF loaded, display first page
            renderPage(pdfDoc, 1);
        });

        /*function renderPage(pdfDoc, pageNum) {
            pdfDoc.getPage(pageNum).then(page => {
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                const viewport = page.getViewport({ scale: 1.5 });

                canvas.height = viewport.height;
                canvas.width = viewport.width;

                const renderContext = {
                    canvasContext: context,
                    viewport: viewport
                };

                page.render(renderContext);
                document.getElementById('pdfViewer').appendChild(canvas);
            });
        }*/
    }catch(e){
        log(e)
    }</script>
</body>
</html>
